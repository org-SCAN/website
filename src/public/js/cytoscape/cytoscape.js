"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[896],{9920:(e,t,n)=>{n.d(t,{v:()=>o});var o={name:"avsdf",animate:"end",animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,nodeSeparation:120,padding:30}},9866:(e,t,n)=>{n.d(t,{v:()=>o});var o={name:"breadthfirst",fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!0,roots:void 0,maximal:!0,animate:!0,animationDuration:1e3,animationEasing:"ease-in-out",animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}}},4936:(e,t,n)=>{n.d(t,{v:()=>o});var o={name:"cise",animate:"end",animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,padding:30,nodeSeparation:20,idealInterClusterEdgeLengthCoefficient:1.4,allowNodesInsideCircle:!1,maxRatioOfNodesInsideCircle:.1,springCoeff:.45,nodeRepulsion:4500,gravity:.25,gravityRange:3.8,ready:function(){},stop:function(){}}},9367:(e,t,n)=>{n.d(t,{v:()=>o});var o={name:"dagre",nodeSep:25,edgeSep:10,rankSep:25,rankDir:"TB",ranker:"longest-path",minLen:function(e){return 1},edgeWeight:function(e){return 1},fit:!0,padding:50,spacingFactor:1.5,nodeDimensionsIncludeLabels:!0,animate:!0,animateFilter:function(e,t){return!0},animationDuration:1e3,animationEasing:"ease-in-out",boundingBox:void 0,transform:function(e,t){return t},ready:function(){},stop:function(){}}},6293:(e,t,n)=>{n.d(t,{v:()=>o});var o={name:"fcose",quality:"default",randomize:!0,animate:!0,animationDuration:1e3,animationEasing:"ease-in-out",fit:!0,padding:30,nodeDimensionsIncludeLabels:!0,uniformNodeDimensions:!1,packComponents:!0,step:"all",samplingType:!0,sampleSize:25,nodeSeparation:100,piTol:1e-7,nodeRepulsion:function(e){return 4500},idealEdgeLength:function(e){return 50},edgeElasticity:function(e){return.45},nestingFactor:.1,numIter:2500,tile:!0,tilingPaddingVertical:10,tilingPaddingHorizontal:10,gravity:.25,gravityRangeCompound:1.5,gravityCompound:1,gravityRange:3.8,initialEnergyOnIncremental:.3,fixedNodeConstraint:void 0,alignmentConstraint:void 0,relativePlacementConstraint:void 0,ready:function(){},stop:function(){}}},8482:(e,t,n)=>{var o=n(9058),a=n.n(o),i=n(9142),r=n.n(i),l=n(6053),c=n.n(l),s=n(4867),d=n.n(s),u=n(5658),f=n.n(u),v=n(2548),g=n.n(v),m=n(9755),p=n.n(m),h=n(9367),y=n(4936),w=n(6293),b=n(9866),S=n(9920);a().use(r()),a().use(c()),a().use(d()),a().use(f()),a().use(g());var C,x,E="wzg0zB9mvKy5xvvfvHqt8vKpMGUPDvlKjoqdlptgd2e75e8e",k="SCAN_CYTOSCAPE",D=[],R=N("/api/lists"),z=!1,I=!1,T=!1,j="",O="",F=[],L={};function N(e){var t;return p().ajax({url:e,method:"GET",dataType:"json",headers:{Accept:"application/json",Authorization:"Bearer "+E,"Application-id":k},async:!1,success:function(e){t=e},error:function(e){console.log(e)}}),t}function M(e){var t;return R.forEach((function(n){if(n.id===e)return t=n.displayed_value})),t}function P(e,t){if(e.elements().show(),t.isNode()){var n=t.union(t.component());e.elements().not(n).hide()}var o=e.elements().filter(":visible");e.fit(o,50)}D=N("/api/list/"+(C="ListRelation",R.forEach((function(e){e.name===C&&(x=e.id)})),x)),p().getJSON("/content.json",(function(e){new URLSearchParams(window.location.search);var t=[];t.push({selector:"node",style:{"background-color":"#666",label:"data(name)","font-size":25}}),t.push({selector:"edge",style:{width:3,"line-color":"#ccc","target-arrow-color":"#ccc","target-arrow-shape":"triangle","curve-style":"bezier"}}),D.forEach((function(e){t.push({selector:'edge[label = "'+e.name.eng+'"]',style:{"line-color":e.color,"target-arrow-color":e.color,"source-arrow-color":e.color}})})),t.push({selector:'edge[type = "bilateral"]',style:{"source-arrow-shape":"triangle",width:4}}),t.push({selector:".highlighted",style:{"background-color":"#ff0000","line-color":"#ff0000","target-arrow-color":"#ff0000","source-arrow-color":"#ff0000",label:"data(label)"}});var n=a()({container:document.getElementById("cy"),elements:e,style:t});n.layout(h.v).run(),l("dagre");var o={menuRadius:function(e){return 100},fillColor:"rgba(0, 0, 0, 0.75)",activeFillColor:"rgba(1, 105, 217, 0.75)",activePadding:20,indicatorSize:24,separatorWidth:3,spotlightPadding:4,adaptativeNodeSpotlightRadius:!1,minSpotlightRadius:24,maxSpotlightRadius:38,openMenuEvents:"cxttapstart taphold",itemColor:"white",itemTextShadowColor:"transparent",zIndex:9999,atMouse:!1,outsideMenuCancel:!1,selector:"node",commands:[{content:"Set as FROM",select:function(e){p()("#from").val(e.id()),p()("#select2-from-container").attr("title",e.json().data.name).text(e.json().data.name),i()}},{content:"set as TO",select:function(e){p()("#to").val(e.id()),p()("#select2-to-container").attr("title",e.json().data.name).text(e.json().data.name),r()}},{content:"View information",select:function(e){window.location.replace("/person/"+e.id())}},{content:"View related persons",select:function(e){P(n,e)}},{content:"Save position",select:function(e){console.log(e.position())},enabled:!1}]};function i(){var e,t=p()("#from").val(),o=p()("#to").val();""==t?s():""!=o&&c(t,o),P(n,null!==(e=n.$id(t))&&void 0!==e?e:[])}function r(){var e=p()("#from").val(),t=p()("#to").val();if(""==t)s();else if(""!=e)c(e,t);else{var o;P(n,null!==(o=n.$id(t))&&void 0!==o?o:[])}}function l(e){p()("#layout").val(e),p()("#select2-layout-container").attr("title",e).text(e)}function c(e,t){s();var o=n.elements().dijkstra("#"+e,(function(e){return e.data("weight")}),!1).pathTo(n.$("#"+t)),a=0;!function e(){o[a].addClass("highlighted"),a<o.length&&(a++,setTimeout(e))}()}function s(){n.elements().removeClass("highlighted")}function d(){n.style().resetToDefault();var e=function(){var e=[],t=M(O);return F.forEach((function(n){var o,a,i,r=null!==(o=n.shape)&&void 0!==o?o:"diamond",l=n[t].eng,c=void 0;c=T?null!==(a=n.color)&&void 0!==a?a:"#"+(16777215*Math.random()<<0).toString(16):null!==(i=n.color)&&void 0!==i?i:L[l],L[l]=c;var s={selector:'node[type = "'+l+'"]',style:{"background-color":c,label:"data(name)","font-size":25,shape:r}};e.push(s)})),e}(),o=t.concat(e);n.style(o)}function u(){n.remove(n.elements()),n.add(e),p()("#from").val(""),p()("#select2-from-container").text("-- Select the first person --"),p()("#to").val(""),p()("#select2-to-container").text("-- Select the second person --"),d(),p()("#betweenness_centrality").text("Show centrality"),n.layout(h.v).run(),p()("#select2-layout-container").text("dagre")}n.cxtmenu(o),n.cxtmenu({selector:"core",commands:[{content:"Dagre layout",select:function(){l("dagre"),n.layout(h.v).run()}},{content:"Cise layout",select:function(){l("cise"),n.layout(y.v).run()}},{content:"Fcose layout",select:function(){l("fcose"),n.layout(w.v).run()}},{content:"Breadthfirst layout",select:function(){l("breadthfirst"),n.layout(b.v).run()}},{content:"AVSDF layout",select:function(){l("avsdf"),n.layout(S.v).run()}},{content:"Relation details",select:function(){(z=!z)?n.style().selector("edge").style("label","data(label)").update():n.style().selector("edge").style("label","").update()}}]}),n.cxtmenu({selector:"edge",commands:[{content:"Show detail",select:function(e){e.style("label",e.data("detail"))}},{content:"Hide detail",select:function(e){e.removeStyle("label")}},{content:"Edit relation",select:function(e){window.location.replace("/links/"+e.id()+"/edit")}}]}),window.$("#from").change((function(){i(),p()(this).blur()})),window.$("#to").change((function(){r(),p()(this).blur()})),window.$("#layout").change((function(){var e=p()(this).val();"dagre"==e?(l("dagre"),n.layout(h.v).run()):"cise"==e?(l("cise"),n.layout(y.v).run()):"fcose"==e?(l("fcose"),n.layout(w.v).run()):"breadthfirst"==e?(l("breadthfirst"),n.layout(b.v).run()):"avsdf"==e&&(l("avsdf"),n.layout(S.v).run()),p()(this).blur()})),window.$("#relations").change((function(){var e=p()(this).val();e&&n.filter('edge[label = "'+e+'"]').hide(),p()(this).blur()})),window.$("#list").change((function(){var e,t;""!=p()(this).val()?(T=!0,j=p()(this).val(),O=window.field_list[j],F=N("/api/list/"+O),n.nodes().forEach((function(e){var t=window.persons[e.id()][j];e.data("type",t)})),d(),e=M(O),t="",F.forEach((function(n){var o=n[e].eng,a=L[o],i=!1;for(var r in window.persons)if(window.persons[r][j]==o){i=!0;break}i&&(t+='<em class="fas fa-circle" style="color: '+a+'">'+o+"</em>")})),p()("#legendList").html(t),T=!1,p()(this).blur()):u()})),p()("#save").click((function(){var e=n.png(),t=document.createElement("a");t.href=e,t.download="graph_"+(new Date).toISOString().slice(0,10)+".png",t.click()})),p()("#betweenness_centrality").click((function(){if(I=!I){var e=n.elements().bc();n.nodes().forEach((function(t){var n,o,a;t.data("bcn",e.betweennessNormalized(t)),t.style("background-color",((n=100*t.data("bcn"))>50?(o=255,a=Math.round(5.1*(100-n))):(a=255,o=Math.round(510-5.1*(100-n))),"#"+("000000"+(65536*o+256*a+0).toString(16)).slice(-6)))})),p()("#betweenness_centrality").text("Hide centrality")}else n.nodes().forEach((function(e){e.removeStyle("background-color")})),d(),p()("#betweenness_centrality").text("Show centrality")})),p()("#clear").click((function(){u()}))}))},9662:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[457,170,898],(()=>(t(9920),t(9866),t(4936),t(9367),t(6293),t(8482),t(9662))));e.O()}]);